<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Wempecker</title>
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="header">
        <div class="title">
            <div class="title-main">
                <img src="./assets/logos/logo_left.jpg" alt="Logo" class="logo">
                THE WEMPECKER
                <img src="./assets/logos/logo_right.svg" alt="Logo" class="logo">
            </div>
            <div class="title-online">WEMPEC's least reputable news source.</div>
        </div>
    </div>
    <main class="main-content">
        <div class="content">
            <div class="main-column">
                <h2>WEMPECKER Newsletter Archive</h2>
    
                <div class="xblog-post-content">
                    <h3 class="xblog-section-heading">Past Newsletters</h3>
                    <ul class="xblog-list no-bullets">
                        <li class="list-item">
                            <a href="./spring-2025/" class="link-base">VOL. 19 Spring 2025 "WEMPEC's Least Reputable News Source"</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="sidebar-column">
                <div class="carousel-section">
                    <h3 class="section-heading">WEMPECKER Highlights</h3>
                    <div class="carousel-container">
                        <div class="carousel-slide">
                            <img src="./updates/assets/crazy.png" alt="Highlight 1" class="carousel-image">
                            <p class="xblog-img-caption">Wempecker Team at Crazy Legs 2025</p>
                        </div>
                        <div class="carousel-slide">
                            <img src="./updates/assets/holi.jpg" alt="Highlight 2" class="carousel-image">
                            <p class="xblog-img-caption">Holy Celeb</p>
                        </div>
                        <div class="carousel-slide">
                            <img src="./updates/assets/two_beers.jpg" alt="Highlight 2" class="carousel-image">
                            <p class="xblog-img-caption">Doubly fed sync. human</p>
                        </div>
                        <div class="carousel-slide">
                            <img src="./updates/assets/sleepy_pat.jpg" alt="Highlight 2" class="carousel-image">
                            <p class="xblog-img-caption">AMDC Synchro Snoozer module</p>
                        </div> 
                        <div class="carousel-slide">
                            <img src="./updates/assets/alum.jpg" alt="Highlight 2" class="carousel-image">
                            <p class="xblog-img-caption">Saket's New Office</p>
                        </div>


                        <!-- Move buttons inside carousel-container but outside individual slides -->
                        <button class="carousel-prev" onclick="moveSlide(-1)">❮</button>
                        <button class="carousel-next" onclick="moveSlide(1)">❯</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <div class="wempecker-fan">
        <img src="./assets/logos/rotating_output.gif" alt="Wempecker Fan">
        <p>New invention: Hypnotizing motor, no magnets, no coils, patent pending!</p>
    </div>

 <!-- Authentication Modal -->
 <div class="auth-modal" id="authModal">
    <div class="auth-modal-content">
        <span class="auth-modal-close" onclick="closeAuthModal()">×</span>
        <h2 class="section-heading">Enter Access Code</h2>
        <div class="password-container">
            <input type="password" id="passcode" placeholder="Enter code" class="input-base">
            <span class="password-toggle" onclick="togglePasswordVisibility()">
                <i class="fas fa-eye"></i>
            </span>
        </div>
        <button onclick="authenticate('./wiki/')" class="link-base">Unlock</button>
        <p id="error" class="error-message"></p>
    </div>
</div>
<footer class="footer">
    <p>© Wempecker 2025</p>
    <div class="wiki-button-container">
        <a href="#" class="link-base wiki-button" onclick="openAuthModal('./wiki/')">Wiki</a>
    </div>
</footer>
<script src="./assets/js/script.js"></script>
<script src="./assets/js/auth.js"></script>
<script>
    function openAuthModal(redirectUrl) {
        document.getElementById('authModal').style.display = 'flex';
        document.getElementById('passcode').focus();
        document.getElementById('authModal').dataset.redirect = redirectUrl;
    }

    function closeAuthModal() {
        document.getElementById('authModal').style.display = 'none';
        document.getElementById('passcode').value = '';
        document.getElementById('error').textContent = '';
    }

    function togglePasswordVisibility() {
        const passcodeInput = document.getElementById('passcode');
        const toggleIcon = document.querySelector('.password-toggle i');
        if (passcodeInput.type === 'password') {
            passcodeInput.type = 'text';
            toggleIcon.classList.remove('fa-eye');
            toggleIcon.classList.add('fa-eye-slash');
        } else {
            passcodeInput.type = 'password';
            toggleIcon.classList.remove('fa-eye-slash');
            toggleIcon.classList.add('fa-eye');
        }
    }
</script>
</body>
</html>
